---
title: "[í”„ë¡œê·¸ë˜ë¨¸ìŠ¤][Python] 2023 KAKAO BLIND RECRUITMENT : í‘œë³‘í•©"
excerpt: "[í”„ë¡œê·¸ë˜ë¨¸ìŠ¤][Python] 2023 KAKAO BLIND RECRUITMENT : í‘œë³‘í•©"

categories:
  - ps
tags:
  - [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤, ì¹´ì¹´ì˜¤]

toc: true
toc_sticky: true

date: 2023-11-20
last_modified_at: 2023-12-01
---

> 1ì¼ 1PS 32ì¼ì°¨!

# ğŸ“š ë¬¸ì œ

---

> Lv 3

- MERGE ì™€ UNMERGE ê°€ í•µì‹¬ì´ë©° ì´ë¥¼ ìœ„í•´ DSU ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í–ˆë‹¤.
  - DSU ì•Œê³ ë¦¬ì¦˜ì€ Union Find ì´ë‹¤.
- 2ì°¨ì› ë°°ì—´ì„ 1ì°¨ì›ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ Union ì‹œí‚¨ë‹¤.
- DSU ì•Œê³ ë¦¬ì¦˜ì—ì„œëŠ” Find í›„ì— ê°€ì¥ Parent Node ë¥¼ ì‚¬ìš©í•´ì„œ ë‹¤ë¥¸ Node ë“¤ì„ Union í•´ì•¼í•œë‹¤.

# ğŸ’¡ í’€ì´ê³¼ì •

---

1. re ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¤ë§¨ë“œë¥¼ ë¶„ë¦¬í•œë‹¤.
2. MERGE ì‹œ Union í•œë‹¤.
3. UNMERGE ì‹œ í•´ë‹¹ ê°’ìœ¼ë¡œ Union ëœ ëª¨ë“  ë…¸ë“œë“¤ì„ ì´ˆê¸°í™”í•œë‹¤.

# ğŸ’» ì½”ë“œ

---

{% raw %}

```

import re


class DSU:
    def __init__(self):
        self.par = [n for n in range(2501)]

    def find(self, x):
        if self.par[x] != x:
            self.par[x] = self.find(self.par[x])
        return self.par[x]

    def union(self, x, y, matrix):
        xr, yr = self.find(x), self.find(y)
        x_x, x_y = xr // 50, (xr-1) % 50
        if xr == yr:
            return False
        elif matrix[x_x][x_y]:
            self.par[yr] = xr
        else:
            self.par[xr] = yr
        return True

    def deunion(self, x, matrix):
        xr = self.find(x)
        value = matrix[xr//50][(xr - 1)%50]
        change_list = []
        for index, p in enumerate(self.par):
            if self.find(p) == xr:
                change_list.append(index)
                matrix[index//50][(index - 1)%50] = ""
        for c in change_list:
            self.par[c] = c
        matrix[x//50][(x-1)%50] = value


def solution(commands):
    answer = []

    matrix = [['' for _ in range(51)] for _ in range(51)]
    dsu = DSU()

    pattern = re.compile(r'(UPDATE|MERGE|UNMERGE|PRINT) (\S+) (\S+) ?(\S*) ?(\S*)')
    for com in commands:
        command = re.findall(pattern, com)[0]

        if command[0] == 'UPDATE':
            if command[3]:
                r, c, value = command[1:4]
                r = int(r)
                c = int(c)
                p = dsu.find((r-1)*50 + c)
                matrix[p//50][(p-1)%50] = value
            else:
                value1, value2 = command[1:3]
                if value1 == value2:
                    continue
                for i in range(50):
                    for j in range(50):
                        if matrix[i][j] == value1:
                            matrix[i][j] = value2
        elif command[0] == 'MERGE':
            r1, c1, r2, c2 = command[1:]
            r1 = int(r1)
            c1 = int(c1)
            r2 = int(r2)
            c2 = int(c2)

            dsu.union((r1 - 1) * 50 + c1, (r2 - 1) * 50 + c2, matrix)
        elif command[0] == 'UNMERGE':
            r, c = command[1:3]
            r = int(r)
            c = int(c)

            dsu.deunion( (r - 1) * 50 + c, matrix)
        elif command[0] == 'PRINT':
            r, c = command[1:3]
            r = int(r)
            c = int(c)
            p = dsu.find((r-1) * 50 + c)
            if matrix[p//50][(p-1)%50] != '':
                answer.append(matrix[p//50][(p-1)%50])
            else:
                answer.append("EMPTY")

    return answer


```

{% endraw %}
